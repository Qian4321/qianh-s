{"version":3,"sources":["webpack:///./node_modules/react-cusdis/dist/ReactCusdis.js","webpack:///./node_modules/react-cusdis/dist/useScript.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./src/templates/blogPost/index.jsx","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./src/templates/blogPost/style.module.css"],"names":["Object","defineProperty","exports","value","ReactCusdis","React","useScript_1","props","divRef","useRef","host","attrs","useScript","concat","lang","useLayoutEffect","render","window","renderCusdis","current","appId","pageId","pageTitle","pageUrl","createElement","Fragment","id","theme","style","ref","_slicedToArray","src","_React$useState","useState","_React$useState2","status","setStatus","useEffect","script","document","querySelector","getAttribute","async","setAttribute","body","appendChild","setAttributeFromEvent","event","type","addEventListener","setStateFromEvent","removeEventListener","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","module","arr","i","len","length","arr2","Array","arrayLikeToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","data","pageContext","location","console","post","siteTitle","previous","next","title","description","excerpt","className","s","article","marginTop","rhythm","marginBottom","scale","display","time","dangerouslySetInnerHTML","__html","html","hr","flexWrap","justifyContent","listStyle","ul","to","rel","slug","pageQuery","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","done","push","err","isArray","TypeError"],"mappings":"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","file":"component---src-templates-blog-post-index-jsx-08ee796d9ab587a6c481.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ReactCusdis = void 0;\n\nvar React = require(\"react\");\n\nvar useScript_1 = require(\"./useScript\");\n\nfunction ReactCusdis(props) {\n  var divRef = React.useRef(null);\n  var host = props.attrs.host || 'https://cusdis.com';\n  useScript_1.useScript(\"\".concat(host, \"/js/cusdis.es.js\"));\n  useScript_1.useScript(props.lang ? \"\".concat(host, \"/js/widget/lang/\").concat(props.lang, \".js\") : '');\n  React.useLayoutEffect(function () {\n    // @ts-expect-error\n    var render = window.renderCusdis;\n\n    if (render) {\n      render(divRef.current);\n    }\n  }, [props.attrs.appId, props.attrs.host, props.attrs.pageId, props.attrs.pageTitle, props.attrs.pageUrl, props.lang]);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    id: \"cusdis_thread\",\n    \"data-host\": host,\n    \"data-page-id\": props.attrs.pageId,\n    \"data-app-id\": props.attrs.appId,\n    \"data-page-title\": props.attrs.pageTitle,\n    \"data-page-url\": props.attrs.pageUrl,\n    \"data-theme\": props.attrs.theme,\n    style: props.style,\n    ref: divRef\n  }));\n}\n\nexports.ReactCusdis = ReactCusdis;","\"use strict\";\n\nvar _slicedToArray = require(\"/home/qianh/workspace/personal/blog/gatsby-starter-blog/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useScript = void 0;\n\nvar React = require(\"react\");\n\nfunction useScript(src) {\n  // Keep track of script status (\"idle\", \"loading\", \"ready\", \"error\")\n  var _React$useState = React.useState(src ? \"loading\" : \"idle\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      status = _React$useState2[0],\n      setStatus = _React$useState2[1];\n\n  React.useEffect(function () {\n    // Allow falsy src value if waiting on other data needed for\n    // constructing the script URL passed to this hook.\n    if (!src) {\n      setStatus(\"idle\");\n      return;\n    } // Fetch existing script element by src\n    // It may have been added by another intance of this hook\n\n\n    var script = document.querySelector(\"script[src=\\\"\".concat(src, \"\\\"]\"));\n\n    if (!script) {\n      // Create script\n      script = document.createElement(\"script\");\n      script.src = src;\n      script.async = true;\n      script.setAttribute(\"data-status\", \"loading\"); // Add script to document body\n\n      document.body.appendChild(script); // Store status in attribute on script\n      // This can be read by other instances of this hook\n\n      var setAttributeFromEvent = function setAttributeFromEvent(event) {\n        script.setAttribute(\"data-status\", event.type === \"load\" ? \"ready\" : \"error\");\n      };\n\n      script.addEventListener(\"load\", setAttributeFromEvent);\n      script.addEventListener(\"error\", setAttributeFromEvent);\n    } else {\n      // Grab existing script status from attribute and set to state.\n      // @ts-expect-error\n      setStatus(script.getAttribute(\"data-status\"));\n    } // Script event handler to update status in state\n    // Note: Even if the script already exists we still need to add\n    // event handlers to update the state for *this* hook instance.\n\n\n    var setStateFromEvent = function setStateFromEvent(event) {\n      setStatus(event.type === \"load\" ? \"ready\" : \"error\");\n    }; // Add event listeners\n\n\n    script.addEventListener(\"load\", setStateFromEvent);\n    script.addEventListener(\"error\", setStateFromEvent); // Remove event listeners on cleanup\n\n    return function () {\n      if (script) {\n        script.removeEventListener(\"load\", setStateFromEvent);\n        script.removeEventListener(\"error\", setStateFromEvent);\n      }\n    };\n  }, [src] // Only re-run effect if script src changes\n  );\n  return status;\n}\n\nexports.useScript = useScript;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Bio from \"../../components/layout/bio\"\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/layout/seo\"\nimport { rhythm, scale } from \"../../utils/typography\"\nimport s from './style.module.css'\nimport { ReactCusdis } from 'react-cusdis'\nconst BlogPostTemplate = ({ data, pageContext, location }) => {\n\tconsole.log(pageContext);\n  const post = data.markdownRemark\n  const siteTitle = data.site.siteMetadata.title\n  const { previous, next } = pageContext\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO\n        title={post.frontmatter.title}\n        description={post.frontmatter.description || post.excerpt}\n      />\n      <article className={s.article}>\n        <header>\n          <h1\n            style={{\n              marginTop: rhythm(1),\n              marginBottom: 0,\n            }}\n            className={s.title}\n          >\n            {post.frontmatter.title}\n          </h1>\n          <p\n            style={{\n              ...scale(-1 / 5),\n              display: `block`,\n              marginBottom: rhythm(1),\n            }}\n            className={s.time}\n          >\n            发布于{post.frontmatter.date}\n          </p>\n        </header>\n        <section dangerouslySetInnerHTML={{ __html: post.html }} />\n        <hr\n          style={{\n            marginBottom: rhythm(1),\n          }}\n          className={s.hr}\n        />\n        <footer>\n          {/* <Bio /> */}\n        </footer>\n      </article>\n\n      <nav>\n        <ul\n          style={{\n            display: `flex`,\n            flexWrap: `wrap`,\n            justifyContent: `space-between`,\n            listStyle: `none`\n          }}\n          className={s.ul}\n        >\n          <li>\n            {previous && (\n              <Link to={previous.fields.slug} rel=\"prev\">\n                ← {previous.frontmatter.title}\n              </Link>\n            )}\n          </li>\n          <li>\n            {next && (\n              <Link to={next.fields.slug} rel=\"next\">\n                {next.frontmatter.title} →\n              </Link>\n            )}\n          </li>\n        </ul>\n      </nav>\n\t\t\t<ReactCusdis\n\t\t\t\tlang=\"zh-cn\"\n        attrs={{\n          host: '/cudis',\n          appId: '9bf811ad-f0b6-4462-bee6-edf392a5374f',\n          pageId: data.id,\n          pageTitle: data.markdownRemark.frontmatter.title,\n          pageUrl: pageContext.slug\n        }}\n      />\n    </Layout>\n  )\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n      }\n    }\n  }\n`\n","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"style-module--article--jmoVn\",\"title\":\"style-module--title--2A4o7\",\"time\":\"style-module--time--1EAb7\",\"hr\":\"style-module--hr--2_37D\",\"ul\":\"style-module--ul--WL1QE\"};"],"sourceRoot":""}