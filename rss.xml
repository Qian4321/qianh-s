<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[QDS]]></title><description><![CDATA[记录自己的学习过程]]></description><link>https://qian4321.github.io/Charging</link><generator>GatsbyJS</generator><lastBuildDate>Wed, 22 Jul 2020 14:43:47 GMT</lastBuildDate><item><title><![CDATA[[转载]github新推出的个人简介readme.md]]></title><description><![CDATA[github新推出了一个自我介绍的readme.md,可以使用所有markdown的语法来进行自我介绍。我在md中加载了一张图片。关于如何制作可以参考这篇blog。]]></description><link>https://qian4321.github.io/Charging/github-readme/</link><guid isPermaLink="false">https://qian4321.github.io/Charging/github-readme/</guid><pubDate>Wed, 22 Jul 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;github新推出了一个自我介绍的readme.md,可以使用所有markdown的语法来进行自我介绍。我在md中加载了一张图片。&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACYklEQVQoz3WT7UsUURTG9w/qc/0RSdCX6FuauBgFgZJQQogFiRaW7mtrpWJmkFiEuWrqZmqmRlZsarKaK62u++buzL7M7sz+OrO7QgodeOac5869z33m3jMWJLJqioPgJonwrkkp5PMkDxNouRzpdJp0JkNO08hms6Vs8mKxeAxHYVGTMVY/vqP1djMveh5xsLOBoRvkVJW8COoFnaJhlBdWsiH5WIieltcpyFxLaMvPiLOd6qpztNXX4Z/3ykuNYChEIpUik9PIiePsSZiOBZrUajZHXNFKopbY/g49d5q5ePoM16rOsv7ZS0JVaOjtpaGvj8b+fhrNfFSf4Ndl3hWPB/9usPzJ5uO99y13W27S89hOPLwugimsbjc1Dge1TmcJlwXVdhs1NluFu6gV3jI4UMrLgUBZMBKJEg6H0bVs+TAkYorCVdnV6nJSJ4utDruI2xmeGGVy3ketyyXjDm65utjzL+MZecni+lpZMBqNsS+CZhiV24qKYL0ssnY/xP5qCN+Cj0t2J2Njr9lc+86Npjpaz5+io+sef35+xTkyzPzGr7KgruvSCnli8QSK3KypmUwr3H/uZnx6gk++UX4sz9Au3DHk4dvqEs7OJgaaL/DgaSeLC1M8ezOIf3uzLJgSN4fJJFlpEbPPdNOklsJY7CY194RDXxeR8TZYsZOf6yQy0UFxxYnxxQ1LNg68bRRmOyARKB2YJSWtkRT801LS2TnYmYXfU4IZqT9Q3JqGbbP2gVmXIDwo8wKTkI6UHcYTCUJ7eyjiVFHU0mBGnMaTKklVHFc2OYLxH24eW0b+oL/XifgSVeq38gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;我加载了一张图片&quot;
        title=&quot;我加载了一张图片&quot;
        src=&quot;/Charging/static/9491dc0e1ac4ad851584bd826792454d/fcda8/%E4%B8%BB%E7%95%8C%E9%9D%A2.png&quot;
        srcset=&quot;/Charging/static/9491dc0e1ac4ad851584bd826792454d/12f09/%E4%B8%BB%E7%95%8C%E9%9D%A2.png 148w,
/Charging/static/9491dc0e1ac4ad851584bd826792454d/e4a3f/%E4%B8%BB%E7%95%8C%E9%9D%A2.png 295w,
/Charging/static/9491dc0e1ac4ad851584bd826792454d/fcda8/%E4%B8%BB%E7%95%8C%E9%9D%A2.png 590w,
/Charging/static/9491dc0e1ac4ad851584bd826792454d/efc66/%E4%B8%BB%E7%95%8C%E9%9D%A2.png 885w,
/Charging/static/9491dc0e1ac4ad851584bd826792454d/c83ae/%E4%B8%BB%E7%95%8C%E9%9D%A2.png 1180w,
/Charging/static/9491dc0e1ac4ad851584bd826792454d/9d1a3/%E4%B8%BB%E7%95%8C%E9%9D%A2.png 2484w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;关于如何制作可以参考这篇&lt;a href=&quot;https://www.aboutmonica.com/blog/how-to-create-a-github-profile-readme&quot;&gt;blog&lt;/a&gt;。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[openlayers实现遮罩的三种方式]]></title><description><![CDATA[在平时的gis开发常常会遇到做地图的遮罩层。有原生的图层数据的话可以直接在gis桌面程序中提取出需要展示的区域。但一些不太方便的图层可以直接使用openlayer提供的api进行遮罩层的开发。经过不同的实验提取出了三种不同的方式来实现遮罩层。
 使用LinearRing…]]></description><link>https://qian4321.github.io/Charging/clipping-Layer/</link><guid isPermaLink="false">https://qian4321.github.io/Charging/clipping-Layer/</guid><pubDate>Sun, 05 Jul 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;在平时的gis开发常常会遇到做地图的遮罩层。有原生的图层数据的话可以直接在gis桌面程序中提取出需要展示的区域。但一些不太方便的图层可以直接使用openlayer提供的api进行遮罩层的开发。经过不同的实验提取出了三种不同的方式来实现遮罩层。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Charging/static/b4b7d177e6f6a29c695c574e925e3a56/22c86/%E9%81%AE%E7%BD%A9%E5%9B%BE.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACHklEQVQ4y31Uy3LaQBDk/z/LTjnJJUX55rINelhISPveFRw7PSPAik3lMLUwzPZ298ywKfMJ9yKX+U7uhBA8YgyIKS01jLyKzf/A5Ey5aMSYGATzFiVb5GSZz9/ube6BXQGDFwDD08GZESUZpOAIJmE0pw+m/MlwzWYdkhMG3jpER1ZkNGePHPndGAx7siTTGBm0Ic+L/M0VbD6dv8tWyZkMeTkYHNoGbjoiWoOpc8pWHpqOzKWi924MfYgIMd0YTuMEZw9kNCE5yjtOaPaVyszZwfTC3CnjcRgImC+A86zd6w8HeD+p2cFO6NsWfbNDtgMy89F6JHZX/JTG9G8BST6TuXp4wVHJgh7FbD/yVZqfRY5HIDM/GfRdQ3bvCpCC+CngFpYq7HiEY12IcWFYLsiBLAI7asmkqWpU+52CRh/Q1h2q1wrnEuEpua52mIYDfv/6ie32D7xIL2sPywJa5jNlexYYBQ8srHbvBGwQjONZYehaspYRoo9mYO2oFtwA14MsMxXYQemcSCr0R+Ywk2n3UePx8QFvL68E5++0J+tvtIV3ci5ryRdA+hAoSWQd+w7j2KtvMshLA7x6qLNIFTIBYpWs4TJuqznUkAYRtK1rPP14wPPzlo9Q2odDv5PhTRwbq81KiV2mzPXO5/IFUNeNLDzHRmREx9PJJkR9/foHIdZ8Av27XSsPl8Yk0k8la4OWHU3KfF33de/X6/sX1eh2Nqw+sF0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;enter description here&quot;
        title=&quot;enter description here&quot;
        src=&quot;/Charging/static/b4b7d177e6f6a29c695c574e925e3a56/fcda8/%E9%81%AE%E7%BD%A9%E5%9B%BE.png&quot;
        srcset=&quot;/Charging/static/b4b7d177e6f6a29c695c574e925e3a56/12f09/%E9%81%AE%E7%BD%A9%E5%9B%BE.png 148w,
/Charging/static/b4b7d177e6f6a29c695c574e925e3a56/e4a3f/%E9%81%AE%E7%BD%A9%E5%9B%BE.png 295w,
/Charging/static/b4b7d177e6f6a29c695c574e925e3a56/fcda8/%E9%81%AE%E7%BD%A9%E5%9B%BE.png 590w,
/Charging/static/b4b7d177e6f6a29c695c574e925e3a56/efc66/%E9%81%AE%E7%BD%A9%E5%9B%BE.png 885w,
/Charging/static/b4b7d177e6f6a29c695c574e925e3a56/22c86/%E9%81%AE%E7%BD%A9%E5%9B%BE.png 1143w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;使用LinearRing&lt;/h2&gt;
&lt;h3&gt;主要思路&lt;/h3&gt;
&lt;p&gt;使用LinearRing可以实现类似环的效果，那么把比如本文使用的贵州的边界线数据来生成一个LinearRing就可以实现遮罩层。但是LinearRing是不能单独存在的，需要创建一个polygon，并使用appendLinearRing这个方法把LinearRing添加进去。而创建的polygon则可以是直接使用[-90,90],[-180,180]这样的extent来生成。&lt;/p&gt;
&lt;h3&gt;主要代码&lt;/h3&gt;

        &lt;deckgo-highlight-code language=&quot;javascript&quot;  terminal=&quot;carbon&quot; theme=&quot;lucario&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;import {Map, View} from &amp;#39;ol&amp;#39;;
import {Tile as TileLayer, Image as ImageLayer,Vector as VectorLayer} from &amp;#39;ol/layer&amp;#39;;
import {OSM, XYZ, ImageStatic, ImageCanvas,Vector as VectorSource } from &amp;#39;ol/source&amp;#39;;
import {getVectorContext} from &amp;#39;ol/render&amp;#39;;
import {transform, getTransform} from &amp;#39;ol/proj&amp;#39;;
import GeoJSON from &amp;#39;ol/format/GeoJSON&amp;#39;;
import {Polygon, LinearRing} from &amp;#39;ol/geom&amp;#39;;
import {fromExtent} from &amp;#39;ol/geom/Polygon&amp;#39;;
import Feature from &amp;#39;ol/Feature&amp;#39;;
import {Circle as CircleStyle, Fill, RegularShape, Stroke, Style, Text} from &amp;#39;ol/style&amp;#39;;


function erase(geom) {
	// const extent = [-180,-90,180,90];
	const Max=transform([-180,-90], &amp;#39;EPSG:4326&amp;#39;, &amp;#39;EPSG:3857&amp;#39;);
	const Min=transform([180,90], &amp;#39;EPSG:4326&amp;#39;, &amp;#39;EPSG:3857&amp;#39;);
	const extent = [Max[0],Max[1],Min[1],Min[1]];
	const polygonRing = fromExtent(extent);
	geom.applyTransform(getTransform(&amp;#39;EPSG:4326&amp;#39;, &amp;#39;EPSG:3857&amp;#39;));
	const coords = geom.getCoordinates();
	coords.forEach(coord =&amp;gt;{ 
		const linearRing = new LinearRing(coord?.[0]);
		polygonRing.appendLinearRing(linearRing);
	})
	return polygonRing;
}

function addconver(converLayer，data) {
	const fts = new GeoJSON().readFeatures(data);
	const ft = fts?.[0];
	const converGeom = this.erase(ft.getGeometry());
	const convertFt = new Feature({
		geometry: converGeom
	});
	converLayer.getSource().addFeature(convertFt);
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
      
&lt;h3&gt;代码解析&lt;/h3&gt;
&lt;p&gt;在本文档中使用的是geojson数据。在addconver函数中对geojson数据进行解析(可以将geojson数据后缀名改为.json并直接import),解析出贵州的边框数据后在erase函数中生成linearing并添加到覆盖整个图的polygon中。最后将生成的layer添加到map对象中即可。尤其要注意投影的变换。&lt;/p&gt;
&lt;h2&gt;使用canvas&lt;/h2&gt;
&lt;h3&gt;主要思路&lt;/h3&gt;
&lt;p&gt;借助openlayers提供的ImageCanvasSource 来添加canvas图层,数据源依旧采用的是贵州geojson文件。添加canvas后利用geojson解析出的边界坐标点使用canvas的api生成一个面，并使用canvas的’destination-out’来实现中空的一个效果。&lt;/p&gt;
&lt;h3&gt;主要代码&lt;/h3&gt;

        &lt;deckgo-highlight-code language=&quot;javascript&quot;  terminal=&quot;carbon&quot; theme=&quot;lucario&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;function render(geo_data){
	const fts = new GeoJSON().readFeatures(geo_data);
	const ft = fts?.[0];
	const coords = ft.getGeometry().getCoordinates();
	const data = coords?.[0]?.[0];
	//参数1:extent array 左下角投影坐标与右上角投影坐标
	//参数2:resolution 要生产图像的分辨率
	//参数3:设备像素比
	//参数4:图像实际大小
	//参数5:投影
	return function(extent, resolution, pixelRatio, size, projection){
	 //每次的范围变动都会引起重绘，从而触发该回调函数，
		const [width, height] = size; //画布尺寸
		const [left, bottom, right, top] = extent; //坐标投影
		const xScale = width / (right - left); //画布尺寸与坐标投影比
		const yScale = height / (top - bottom);
		const transform = getTransform(&amp;#39;EPSG:4326&amp;#39;, &amp;#39;EPSG:3857&amp;#39;);
		const canvas=document.createElement(&amp;#39;canvas&amp;#39;);
		canvas.width=width;
		canvas.height=height;
		const ctx = canvas.getContext(&amp;#39;2d&amp;#39;);
		ctx.fillStyle = &amp;quot;rgba(255,255,255,1)&amp;quot;;
		ctx.fillRect(0,0,width,height);
		ctx.globalCompositeOperation = &amp;#39;destination-out&amp;#39;;
		ctx.beginPath();
		data.forEach((coor,index)=&amp;gt;{
			const [lon,lat] = transform(coor);
			const x = (lon - left) * xScale; //转换成手机次尺寸的xy
			const y = (top - lat) * yScale;
			index===0?ctx.moveTo(x, y):1;
			ctx.lineTo(x,y);
		})
		// ctx.strokeStyle = &amp;#39;rgba(0,0,0,0.5)&amp;#39;;
		ctx.fill();					
		// ctx.restore();
		// ctx.fill();
		return canvas;
	}
}

const imageCanvas=new ImageCanvas({
	//创建回调函数如下
	//data为geojson
	canvasFunction:render(data), 
});
const imageLayer=new ImageLayer({
	source:imageCanvas
});&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
      
&lt;h3&gt;代码解析&lt;/h3&gt;
&lt;p&gt;上面render函数中的坐标转canvas坐标是在网上找的，代码的思路还是很清晰的，只需要注意ctx.globalCompositeOperation = ‘destination-out’;&lt;/p&gt;
&lt;h2&gt;使用图层事件和canvas&lt;/h2&gt;
&lt;p&gt;这种方式也是使用canvas和’destination-out’，但是使用的是openlayer自带的api,使用起来会简单和方便许多，就是第二种方式的进化版。使用图层的’postrender’事件，在图层加载完成之后获取上下文并添加。&lt;/p&gt;
&lt;h3&gt;主要代码&lt;/h3&gt;

        &lt;deckgo-highlight-code language=&quot;javascript&quot;  terminal=&quot;carbon&quot; theme=&quot;lucario&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;function addPolyon(converLayer,geo_data){
	const fts = new GeoJSON().readFeatures(geo_data);
	const ft = fts?.[0];
	ft.getGeometry().applyTransform(getTransform(&amp;#39;EPSG:4326&amp;#39;, &amp;#39;EPSG:3857&amp;#39;))
	converLayer.getSource().addFeature(ft);
	return converLayer;
}
//获取图层
const _layer = map.getLayers().getArray()?.[1]；
const newcliplayer = addPolyon(clipLayer,data);
_layer.on(&amp;#39;postrender&amp;#39;, e=&amp;gt; {
	e.context.globalCompositeOperation = &amp;#39;destination-in&amp;#39;;
	const vectorContext = getVectorContext(e);
	newcliplayer.getSource().forEachFeature(feature=&amp;gt;{
		vectorContext.drawFeature(feature, style);
	});
	e.context.globalCompositeOperation = &amp;#39;source-over&amp;#39;;
});&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
      
&lt;h2&gt;总结&lt;/h2&gt;
&lt;p&gt;使用第三种方式无论是在性能还是代码量来说都是优势，第三种也是ol官方推荐的一种。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[uni-app使用openlayers]]></title><description><![CDATA[1.概要 uniapp在提供了强大的多端转换功能的同时，也会极大的限制用户的操作并且为用户提供大量的bug。但对于节约成本和快速上线的app可以还是值得使用的。 2.使用openlayers 在使用openlayers的时候，和在一般的vue框架中使用没有太大的差别。但是uni…]]></description><link>https://qian4321.github.io/Charging/uniapp-openlayers/</link><guid isPermaLink="false">https://qian4321.github.io/Charging/uniapp-openlayers/</guid><pubDate>Thu, 25 Jun 2020 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;1.概要&lt;/h2&gt;
&lt;p&gt;uniapp在提供了强大的多端转换功能的同时，也会极大的限制用户的操作并且为用户提供大量的bug。但对于节约成本和快速上线的app可以还是值得使用的。&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;2.使用openlayers&lt;/h2&gt;
&lt;p&gt;在使用openlayers的时候，和在一般的vue框架中使用没有太大的差别。但是uni-app的一些特性会使得openlayers出现一些意外情况。&lt;/p&gt;
&lt;h3&gt;2.1问题原因&lt;/h3&gt;
&lt;p&gt;uniapp会脑残的将我们写的&amp;#x3C;button&gt;等标签转换为他们自带的&amp;#x3C;uni-button&gt;标签，同样的也会把样式中的button选择器翻译为uni-button选择器。我们的代码是放在mounted中，生成的dom中button等标签并未被翻译，但是引入的ol.css中的button选择器被翻译为了uni-button，这就导致dom找不到对应的css样式。&lt;/p&gt;
&lt;h3&gt;2.2解决方法&lt;/h3&gt;
&lt;p&gt;解决方式的主要思路就是和dom一样一起绕过uni-app的翻译阶段。在这里主要使用uni-app的renderjs。&lt;/p&gt;

        &lt;deckgo-highlight-code language=&quot;javascript&quot;  terminal=&quot;carbon&quot; theme=&quot;lucario&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;&amp;lt;script module=&amp;quot;openlayers&amp;quot; lang=&amp;quot;renderjs&amp;quot;&amp;gt;
	import {Map, View} from &amp;#39;ol&amp;#39;;
	import {Tile as TileLayer, Image as ImageLayer} from &amp;#39;ol/layer&amp;#39;;
	import {OSM, XYZ,ImageStatic } from &amp;#39;ol/source&amp;#39;;
&amp;lt;/script&amp;gt;&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
      
&lt;p&gt;这样主要是可以直接操作dom元素，其他和普通的vue&amp;#x3C;script&gt;一致。这里直接操作dom就可以手动插入一个&amp;#x3C;link&gt;标签并将href指向ol.css,就可以绕过翻译阶段，是的样式能被正确的引用。&lt;/p&gt;

        &lt;deckgo-highlight-code language=&quot;javascript&quot;  terminal=&quot;carbon&quot; theme=&quot;lucario&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;mounted(){
	const style = document.createElement(&amp;#39;link&amp;#39;);
	style.href = &amp;#39;../../../static/ol.css&amp;#39;;//自己的ol.css文件地址
	style.rel = &amp;#39;stylesheet&amp;#39;;
	style.type = &amp;#39;text/css&amp;#39;;
	document.getElementsByTagName(&amp;#39;HEAD&amp;#39;).item(0).appendChild(style);
	//初始化map等操作
}&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
      
&lt;p&gt;其中自己的ol.css文件存放地址在我的实验中目前只能放在static文件夹中，不然会出现mime不对应的问题。具体原因还需要进一步分析。&lt;/p&gt;
&lt;h2&gt;3.结语&lt;/h2&gt;
&lt;p&gt;目前通过这种方式使用openlayers实属无奈，以后还是尽量选择目标明确的框架吧。使用中其他的只有等后面遇到再来一一排雷吧。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[学习插值(一)]]></title><description><![CDATA[关于MeteoInfoLab MeotoInfoLab对于处理气象相关的工作是十分有用且高效的。MeotoInfoLab是使用的jython脚本进行开发，是一个好消息但仔细想想也很难让人接受。可以使用基本Python3的语法但无法使用丰富的cpython包，但也MatLab…]]></description><link>https://qian4321.github.io/Charging/grid-interpolate(1)/</link><guid isPermaLink="false">https://qian4321.github.io/Charging/grid-interpolate(1)/</guid><pubDate>Thu, 04 Jun 2020 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;关于MeteoInfoLab&lt;/h2&gt;
&lt;p&gt;MeotoInfoLab对于处理气象相关的工作是十分有用且高效的。MeotoInfoLab是使用的jython脚本进行开发，是一个好消息但仔细想想也很难让人接受。可以使用基本Python3的语法但无法使用丰富的cpython包，但也MatLab、Numpy、Matplotlib实现了一些函数，可以满足部分的需求。具体的信息以及学习的脚本可以看&lt;a href=&quot;http://bbs.06climate.com/forum.php?mod=viewthread&amp;#x26;tid=36151&amp;#x26;highlight=meteoinfolab&quot;&gt;气象家园&lt;/a&gt;相关内容。&lt;/p&gt;
&lt;h2&gt;使用关于MeteoInfoLab实现插值&lt;/h2&gt;
&lt;p&gt;在这里借助气象家园的插值脚本进行改写，可以多看看的&lt;a href=&quot;http://bbs.06climate.com/forum.php?mod=viewthread&amp;#x26;tid=36422&amp;#x26;extra=page%3D1&quot;&gt;原始脚本=》》&lt;/a&gt;。&lt;/p&gt;
&lt;h3&gt;分析脚本&lt;/h3&gt;
&lt;p&gt;原始脚本中最关键的函数就是插值函数griddata(),主要需要两个参数：坐标的经度和坐标的纬度组成的坐标点(&lt;em&gt;list&lt;/em&gt;),以及坐标相对应的特征值，比如温度、风速、降水等信息(&lt;em&gt;array_like&lt;/em&gt;)。除外还需要插值的目标点坐标，插值的方法（idw | cressman | nearest | inside | inside&lt;em&gt;min| inside&lt;/em&gt;max | inside_count | surface | barnes）以及插值的方式对应所需要的参数。但调好这些参数确实需要一些经验，对于我这种小白就用默认的值吧。&lt;/p&gt;
&lt;h3&gt;具体实现&lt;/h3&gt;
&lt;p&gt;数据点经度是以范围为[73.03125, 136.96875]以0.0625间距的点，数据点纬度是以范围为[18.03125, 55.96875]以0.0625间距的点。对应的点坐标数据存储在txt文件中以空格分隔。&lt;/p&gt;

        &lt;deckgo-highlight-code language=&quot;python&quot;  terminal=&quot;carbon&quot; theme=&quot;lucario&quot; &gt;
          &lt;code slot=&quot;code&quot;&gt;lat = arange(18.03125, 55.96875+0.0625,0.0625,&amp;#39;float64&amp;#39;)  #纬度
lon = arange(73.03125, 136.96875+0.0625,0.0625,&amp;#39;float64&amp;#39;) #经度
lon_repeat=[val for i in range(lat.size) for val in lon]
lat_repeat=[val for val in lat for i in range(lon.size)]
with open(&amp;quot;/home/qianh/workspace/share/linhuo/20200521.txt&amp;quot;,&amp;quot;r&amp;quot;) as f:
    data = f.readlines()
    temdata=[line.strip() for line in data]
finalData=[float(i) for temp in temdata for i in temp.split(&amp;#39; &amp;#39;) if len(i)&amp;gt;0]
x = arange(75, 135, 0.0625)
y = arange(18, 55, 0.0625)
prg = griddata((NDArray(lon_repeat),NDArray(lat_repeat)), NDArray(finalData), xi=(x, y), method=&amp;#39;idw&amp;#39;, radius=0.1)[0]
#prg = griddata((NDArray(lon_repeat),NDArray(lat_repeat)), NDArray(finalData), xi=(x, y), method=&amp;#39;cressman&amp;#39;, radius=[0.1])[0]
figure(newfig=True)#每次运行可以添加一个新的figure
bou1_layer = geoshow(&amp;#39;cn_border&amp;#39;, facecolor=(0,0,255))
china_layer = geoshow(&amp;#39;china&amp;#39;, visible=False)
levs = [0.1, 1, 2, 4, 6, 8, 10, 20, 50,100]
cols = [(255,255,255),(206,255,255),(37,255,252),(36,183,255),(3,120,180),(21,81,203),(9,47,210), (136,23,240),(106,21,159),(76,15,105)]
layer = contourfm(x, y, prg, levs, colors=cols)
masklayer(china_layer, [layer])
colorbar(layer)
xlim(72, 136)
ylim(16, 55)&lt;/code&gt;
        &lt;/deckgo-highlight-code&gt;
      
&lt;p&gt;&lt;span style=&quot;color: green&quot;&gt; 其中要注意将list格式数据转换为NDArray类型的，不然会报错 &lt;/span&gt;。其中的插值目标点的间距可以自行修改，本脚本采用的是0.0625。cressman和idw的对应参数(radius)也可以进行调整。levs是图例的范围和下面的cols一一对应。最后展示运行数据图&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Charging/static/85baf5c2eb83de381454ba703c7c681a/e8e04/meteoinfo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABeUlEQVQoz3VSPUsDQRDNX7SwE/0FYpNGsLPwX1goCobEVKJYpBGSIGghBBLDgQqXGDV33Ff2e5+ze0kImiw8Zmdu5s2b26mAjrUWC6uUgpQKWpeQ5Ks5fJxsnAmEEXMVGH9MkKfFsr6ySiilBGPcJwppwITxd2ONBxzoPMUK3WFJ0rp6xntv7O/G/CEUQhC448BLqtFLDTJBqjWREhTlnNSmODz9QTeSEOS3GxN8DmalQvNPoUCachoPiImgoPhcFCQRO03Vmwh7+yHOu5mPN+9G6AfFeoWOsCg4jeuDPhYqg8tghpz8nHz35+Y9/Kl33tAfpSWh3TCy1o7covclcUSKds8mOLiPUPvmaL0yXDQS6LIEzSDCIBGbCTnny+6cRlczi9upxvH1FFvbAao7AR7qcZlAZe0sR2jM5lfmnPkV0STTrYi1GnEhoDKF4WMBkdM3KylH+/woSfxqrSV01lA3p9KRLqwkqw0R0bsq2k23Wi7OWNl8tf4XR0GylfXWLLIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;全国降水图&quot;
        title=&quot;全国降水图&quot;
        src=&quot;/Charging/static/85baf5c2eb83de381454ba703c7c681a/fcda8/meteoinfo.png&quot;
        srcset=&quot;/Charging/static/85baf5c2eb83de381454ba703c7c681a/12f09/meteoinfo.png 148w,
/Charging/static/85baf5c2eb83de381454ba703c7c681a/e4a3f/meteoinfo.png 295w,
/Charging/static/85baf5c2eb83de381454ba703c7c681a/fcda8/meteoinfo.png 590w,
/Charging/static/85baf5c2eb83de381454ba703c7c681a/efc66/meteoinfo.png 885w,
/Charging/static/85baf5c2eb83de381454ba703c7c681a/c83ae/meteoinfo.png 1180w,
/Charging/static/85baf5c2eb83de381454ba703c7c681a/e8e04/meteoinfo.png 1270w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[新公司第一天]]></title><description><![CDATA[上午 或许是太久没有上班了吧。还记得上次上班还是在2月初，那个时候刚刚在家上班一周就被停掉了，这一停就停到到了现在。这家公司是大概是在…]]></description><link>https://qian4321.github.io/Charging/life_newCompany/</link><guid isPermaLink="false">https://qian4321.github.io/Charging/life_newCompany/</guid><pubDate>Tue, 12 May 2020 22:12:03 GMT</pubDate><content:encoded>&lt;h2&gt;上午&lt;/h2&gt;
&lt;p&gt;或许是太久没有上班了吧。还记得上次上班还是在2月初，那个时候刚刚在家上班一周就被停掉了，这一停就停到到了现在。这家公司是大概是在4月份电话面试的，还挺顺利的。因为今年应届生的找工作难度确实挺大的，所以这份工作我明知可能不太适合我，我也坦然接受了。&lt;/p&gt;
&lt;h2&gt;中午&lt;/h2&gt;
&lt;p&gt;订好的是下午两点去报到，结果早上六点就起床了，比面试还紧张。因为我从来没有实地去看过这家公司，这种未知的恐惧也一直伴随了我一上午。本来上午打算好好看看Gis的一些东西，但确实静不下心来，最后也只能看看java。好在以前C#的底子还是比较好的，看一些基础知识基本都一致，只是框架要好好学学。中午没心情吃饭，喝了一瓶酸奶就过去公司了。&lt;/p&gt;
&lt;h2&gt;下午&lt;/h2&gt;
&lt;p&gt;因为不熟悉路线，花了大概两个小时才到达了公司。公司不大，但员工是真的年轻，反正至少看上去还是挺有活力的。坐着等了一会儿，看见了在假期中一直和我联系但没见过面的老师，还慢亲切的，瞬间笼罩了一上午的恐惧就消失不见了。然后谈了谈工作上的事，签了实习合同就开始工作了。我带了两台电脑去，一台用于Linux开发，一台用于office和微信（请腾讯爸爸吧微信网页端重新开出来吧，我给你充Q币）。主要是工作电脑带不动虚拟机，实习生比较穷，买不起好的电脑,太难了。开始装一些工作要用的软件时，Docker崩了，我也崩了。还是第一次遇到这种情况，解决不了就只有重新安装咯，结果卸载还出问题了。结果一下午我就花在解决Docker上了，好在在下班之前解决完了这些东西。下班体验了一下成都的一号线，随后就发誓以后绝对不坐高峰期的一号线了，太挤。大概挤了一个多小时，才回到了家。&lt;/p&gt;
&lt;h2&gt;总结&lt;/h2&gt;
&lt;p&gt;我也不会因为我自己进入了小公司改变我对于小公司的看法。我依然认为能进大公司，尽量进大公司。我现在仍然保留着在上家比较大的公司中养成的工作习惯，我觉得那是受益匪浅的，更可况我还只是实习。但今年情况确实不太好，也有可能是我不太喜欢面试吧，但既然进入了小公司，就要尽量去吸收他的精华。小公司的养分是足够有能力去吸收的，因为他们可能不会像大公司那样去封装自己的代码库，用到的都是一些常见的开源库。这样就可以提供很多学习机会，能做到就是把握每一次的机会，提升自己。&lt;/p&gt;
&lt;h2&gt;近期愿望&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;转正后租一个带空调的单间&lt;/li&gt;
&lt;li&gt;尽快上手开发，实现自己的价值&lt;/li&gt;
&lt;li&gt;希望大家都能答辩顺利通过&lt;/li&gt;
&lt;li&gt;最重要的一点：瘦下来、瘦下来、瘦下来（过年长胖是对父母的尊重，这是这年有点过于的长了…）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 440px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Charging/static/665a155c3fa20affa0eec73402d1a195/fe55e/jinli.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAEDAgQF/8QAFwEAAwEAAAAAAAAAAAAAAAAAAQMEAv/aAAwDAQACEAMQAAABujFK+UsN1qSmbtAj/8QAHBAAAgEFAQAAAAAAAAAAAAAAAQIEAAMREjIx/9oACAEBAAEFAkwgW45dgNmfSpD4tnqd7KFJz//EABcRAAMBAAAAAAAAAAAAAAAAAAABERD/2gAIAQMBAT8BaIsp/8QAGREBAAIDAAAAAAAAAAAAAAAAAQAQERIx/9oACAECAQE/AQzRwmpP/8QAHBABAQACAgMAAAAAAAAAAAAAAQACMQMhESJB/9oACAEBAAY/AnrUHJh4GfWzYT7qdbjG4yOi/8QAHxAAAgICAQUAAAAAAAAAAAAAAREAUTFBECFhkaGx/9oACAEBAAE/Iew3zHlX0NQugVNDyPsCphg3vixIQABMrcCE4AUU1FT/2gAMAwEAAgADAAAAELA3w//EABgRAQEBAQEAAAAAAAAAAAAAAAEAESFR/9oACAEDAQE/ECGMDluja9v/xAAZEQEAAwEBAAAAAAAAAAAAAAABABEhMfD/2gAIAQIBAT8QMFnYlZcIUeyNvCf/xAAcEAEAAwEAAwEAAAAAAAAAAAABABEhMUFRYZH/2gAIAQEAAT8QN7kmx1LVfrMwFGOnlzFGnXYRAdYr8zWwnqCOo6Txmbx1KU+/cBvFUfMiumQF+VE//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chinese Salty Egg&quot;
        title=&quot;Chinese Salty Egg&quot;
        src=&quot;/Charging/static/665a155c3fa20affa0eec73402d1a195/fe55e/jinli.jpg&quot;
        srcset=&quot;/Charging/static/665a155c3fa20affa0eec73402d1a195/a80bd/jinli.jpg 148w,
/Charging/static/665a155c3fa20affa0eec73402d1a195/1c91a/jinli.jpg 295w,
/Charging/static/665a155c3fa20affa0eec73402d1a195/fe55e/jinli.jpg 440w&quot;
        sizes=&quot;(max-width: 440px) 100vw, 440px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Hello World]]></title><description><![CDATA[This is my first post on my new fake blog! How exciting!qwqwqwqwqwqwqwq I’m sure I’ll write a lot more interesting things in the future. Oh…]]></description><link>https://qian4321.github.io/Charging/hello-world/</link><guid isPermaLink="false">https://qian4321.github.io/Charging/hello-world/</guid><pubDate>Fri, 01 May 2015 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;This is my first post on my new fake blog! How exciting!qwqwqwqwqwqwqwq&lt;/p&gt;
&lt;p&gt;I’m sure I’ll write a lot more interesting things in the future.&lt;/p&gt;
&lt;p&gt;Oh, and here’s a great quote from this Wikipedia on
&lt;a href=&quot;https://en.wikipedia.org/wiki/Salted_duck_egg&quot;&gt;salted duck eggs&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A salted duck egg is a Chinese preserved food product made by soaking duck
eggs in brine, or packing each egg in damp, salted charcoal. In Asian
supermarkets, these eggs are sometimes sold covered in a thick layer of salted
charcoal paste. The eggs may also be sold with the salted paste removed,
wrapped in plastic, and vacuum packed. From the salt curing process, the
salted duck eggs have a briny aroma, a gelatin-like egg white and a
firm-textured, round yolk that is bright orange-red in color.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Charging/static/8058f3f26913fea3b6a89a73344fe94a/e1596/salty_egg.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMB/8QAFwEAAwEAAAAAAAAAAAAAAAAAAAEEBf/aAAwDAQACEAMQAAABgik0dXC//8QAGRABAAMBAQAAAAAAAAAAAAAAAQACEhEy/9oACAEBAAEFAkqW2DlnRj73yf/EABcRAQADAAAAAAAAAAAAAAAAAAAREkH/2gAIAQMBAT8B1WX/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEQL/2gAIAQIBAT8Bi6f/xAAbEAABBAMAAAAAAAAAAAAAAAAAAQIRISIxMv/aAAgBAQAGPwK9GNocyS8hCj//xAAbEAADAQADAQAAAAAAAAAAAAABESEAMUGBof/aAAgBAQABPyGxNMfrLHmCDZmAzzvJJDjEQCHv/9oADAMBAAIAAwAAABDIL//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAwEBPxARhylZv//EABgRAAIDAAAAAAAAAAAAAAAAAAABESFR/9oACAECAQE/EFoktI//xAAdEAEBAAICAwEAAAAAAAAAAAABEQAxIWFBcYHh/9oACAEBAAE/EEbMLQ0fMHDVaPIXyI4pk4JUnWacNCtO8ojDE9TGIYES7/Jn/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Chinese Salty Egg&quot;
        title=&quot;Chinese Salty Egg&quot;
        src=&quot;/Charging/static/8058f3f26913fea3b6a89a73344fe94a/1c72d/salty_egg.jpg&quot;
        srcset=&quot;/Charging/static/8058f3f26913fea3b6a89a73344fe94a/a80bd/salty_egg.jpg 148w,
/Charging/static/8058f3f26913fea3b6a89a73344fe94a/1c91a/salty_egg.jpg 295w,
/Charging/static/8058f3f26913fea3b6a89a73344fe94a/1c72d/salty_egg.jpg 590w,
/Charging/static/8058f3f26913fea3b6a89a73344fe94a/a8a14/salty_egg.jpg 885w,
/Charging/static/8058f3f26913fea3b6a89a73344fe94a/fbd2c/salty_egg.jpg 1180w,
/Charging/static/8058f3f26913fea3b6a89a73344fe94a/e1596/salty_egg.jpg 2048w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item></channel></rss>